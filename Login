#include <iostream>
#include <fstream>
using namespace std;


string username;
string password;
string userInput;
string userInputPassword;
string contents;
string adminName = "admin";
string adminPass = "AdminAccess";
int counter2 = 0;
int counter3 = 0;
char response;
int backg();
int login(){
    cout << "Username: ";
    cin >> username;
    cout << "Password: ";
    cin >> password;
    if(username == adminName && password == adminPass){
    ifstream read;
        read.open("logininfo.txt");
        if(!read.good()){
            cout << "An error occured in opening the file.";
            return 0;
//////----------------------------------------------------------------------------------------------------------------------------------------///
        }else if(read.good()){
            cout << "Reading password and usernames..." << endl;
        /////////////////////////////////////////////////////////////////////////
        while(!read.eof()){
    read >> contents;
    cout << " "<<contents << endl;

        }
read.close();
return 0;
        }
    }
ifstream read;

    read.open("logininfo.txt");
    while(!read.eof()){
    read >> contents;
    if(username == contents){
        counter2++;
        break;
    }
    }
    if(counter2 == 1){
        read.close();
        read.open("logininfo.txt");
    while(!read.eof()){
    read >> contents;
    if(password ==  contents){
        counter3++;
        break;
    }
    }
    if(counter3 == 0){
        cout << "Sorry, password is wrong." << endl;
        read.close();
        return 1;
    }
    if(counter3 == 1){
        read.close();
        cout << "Access Granted";
        return 0;
    }
    }
    if(counter2 == 0){
         read.close();
        cout << "Sorry, username is wrong." << endl;
        login();

    }

}

int create(){
    ofstream write;
cout << "To access some functions such as Search Record, Delete All Records, Read All Records, you must login or sign up. \n You have entered to sign up." << endl;
cout << "What will your username be?" << endl;
cin >> userInput;
cout << "How about your password: " << endl;
cin >> userInputPassword;
write.open("logininfo.txt", std::ios_base::app); //appends to file
if(!write.fail()){
    write << "Username: " << userInput << endl;

    write << "Password: " << userInputPassword << endl;


}else{
cerr << "An error occurred.";
}

write.close();
cout << "Done! Now you can login to try it!" << endl;
backg();

}


